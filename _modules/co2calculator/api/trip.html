<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>co2calculator.api.trip &#8212; co2calculator 0.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=ac3642c1" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css-style.css?v=f20b0197" />
    <script src="../../../_static/documentation_options.js?v=938c9ccc"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/Final logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">co2calculator</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=pledge4future&repo=co2calculator&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation.html">Methodology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mobility.html">Mobility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../calculate/energy.html">Energy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../calculate/emission_factors.html">Emission factors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">API Docs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for co2calculator.api.trip</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Trip classes&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">co2calculator</span> <span class="kn">import</span> <span class="n">CountryCode2</span><span class="p">,</span> <span class="n">CountryCode3</span>
<span class="kn">from</span> <span class="nn">co2calculator.api.emission</span> <span class="kn">import</span> <span class="n">TransportEmissions</span>
<span class="kn">from</span> <span class="nn">co2calculator.distances</span> <span class="kn">import</span> <span class="n">get_distance</span><span class="p">,</span> <span class="n">create_distance_request</span>
<span class="kn">from</span> <span class="nn">co2calculator.mobility.calculate_mobility</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">calc_co2_car</span><span class="p">,</span>
    <span class="n">calc_co2_train</span><span class="p">,</span>
    <span class="n">calc_co2_plane</span><span class="p">,</span>
    <span class="n">calc_co2_motorbike</span><span class="p">,</span>
    <span class="n">calc_co2_tram</span><span class="p">,</span>
    <span class="c1">#    calc_co2_ferry,</span>
    <span class="n">calc_co2_bus</span><span class="p">,</span>
    <span class="n">calc_co2_bicycle</span><span class="p">,</span>
    <span class="n">calc_co2_pedelec</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">co2calculator.constants</span> <span class="kn">import</span> <span class="n">TransportationMode</span>


<div class="viewcode-block" id="Trip">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip">[docs]</a>
<span class="k">class</span> <span class="nc">Trip</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a trip object</span>

<span class="sd">        :param distance: Distance in kilometers</span>
<span class="sd">        :param start: Start location of the trip</span>
<span class="sd">        :param destination: Destination location of the trip</span>
<span class="sd">        :type distance: float</span>
<span class="sd">        :type start: str | dict</span>
<span class="sd">        :type destination: str | dict</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__verify_parameters</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="n">distance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destination</span> <span class="o">=</span> <span class="n">destination</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__verify_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Verifies whether the parameters passed by the user are valid&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)),</span> <span class="s2">&quot;Distance must be a number&quot;</span>
            <span class="k">assert</span> <span class="n">distance</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Distance must be greater than 0&quot;</span>
            <span class="k">assert</span> <span class="p">(</span>
                <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">destination</span> <span class="ow">is</span> <span class="kc">None</span>
            <span class="p">),</span> <span class="s2">&quot;If distance is not given, start and destination must be given.&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="p">(</span>
                <span class="n">start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">destination</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="p">),</span> <span class="s2">&quot;If distance is given, start and destination must be None.&quot;</span>

<div class="viewcode-block" id="Trip.calculate_distance">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.calculate_distance">[docs]</a>
    <span class="k">def</span> <span class="nf">calculate_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculates travelled get_distance&quot;&quot;&quot;</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">create_distance_request</span><span class="p">(</span>
            <span class="n">transportation_mode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">distance</span><span class="p">,</span> <span class="n">coords</span> <span class="o">=</span> <span class="n">get_distance</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="o">=</span> <span class="n">distance</span>

        <span class="c1"># get coordinates</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span></div>


<div class="viewcode-block" id="Trip.by_car">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_car">[docs]</a>
    <span class="k">def</span> <span class="nf">by_car</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fuel_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">passengers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a car trip object</span>

<span class="sd">        :param fuel_type: The fuel type of the car (see CarFuel in constants.py)</span>
<span class="sd">        :param size: The size of the car (see Size in constants.py)</span>
<span class="sd">        :param passengers: number of passengers (default value: 1)</span>
<span class="sd">        :type fuel_type: str</span>
<span class="sd">        :type size: str</span>
<span class="sd">        :type passengers: int</span>
<span class="sd">        :return: _TripByCar object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByCar</span><span class="p">(</span>
            <span class="n">passengers</span><span class="o">=</span><span class="n">passengers</span><span class="p">,</span>
            <span class="n">fuel_type</span><span class="o">=</span><span class="n">fuel_type</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


    <span class="c1"># TODO: calculate_mobility and constants have &#39;fuel_type&#39; but TrainEmissionParameters not</span>
<div class="viewcode-block" id="Trip.by_train">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_train">[docs]</a>
    <span class="k">def</span> <span class="nf">by_train</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">country_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;global&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a train trip object</span>

<span class="sd">        :param country_code: 2- or 3-letter ISO country code</span>
<span class="sd">        :type country_code: str</span>
<span class="sd">        :return: _TripByTrain object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByTrain</span><span class="p">(</span>
            <span class="n">country_code</span><span class="o">=</span><span class="n">country_code</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Trip.by_plane">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_plane">[docs]</a>
    <span class="k">def</span> <span class="nf">by_plane</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seating</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a plane trip object</span>

<span class="sd">        :param seating: The type of seating class (see FlightClass in constants.py)</span>
<span class="sd">        :type seating: str</span>
<span class="sd">        :return: _TripByPlane object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByPlane</span><span class="p">(</span>
            <span class="n">seating</span><span class="o">=</span><span class="n">seating</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Trip.by_tram">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_tram">[docs]</a>
    <span class="k">def</span> <span class="nf">by_tram</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a tram trip object</span>

<span class="sd">        :return: _TripByTram object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByTram</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


    <span class="c1">#    def by_ferry(self, ferry_class: str = None):</span>
    <span class="c1">#        &quot;&quot;&quot;Initialize a ferry trip object</span>
    <span class="c1">#</span>
    <span class="c1">#        :param ferry_class: The type of seating class (see FerryClass in constants.py)</span>
    <span class="c1">#        :type ferry_class: str</span>
    <span class="c1">#        :return: _TripByFerry object</span>
    <span class="c1">#        &quot;&quot;&quot;</span>
    <span class="c1">#        return _TripByFerry(</span>
    <span class="c1">#            ferry_class=ferry_class,</span>
    <span class="c1">#            distance=self.distance,</span>
    <span class="c1">#            start=self.start,</span>
    <span class="c1">#            destination=self.destination,</span>
    <span class="c1">#        )</span>

<div class="viewcode-block" id="Trip.by_bus">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_bus">[docs]</a>
    <span class="k">def</span> <span class="nf">by_bus</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">fuel_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">vehicle_range</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a bus trip object</span>

<span class="sd">        :param fuel_type: The fuel type of the bus (see BusFuel in constants.py)</span>
<span class="sd">        :param size: The size of the bus</span>
<span class="sd">        :param vehicle_range: The distance of the bus journey (see BusTrainRange in constants.py)</span>
<span class="sd">        :type fuel_type: str</span>
<span class="sd">        :type size: str</span>
<span class="sd">        :type vehicle_range: str</span>
<span class="sd">        :return: _TripByBus object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByBus</span><span class="p">(</span>
            <span class="n">fuel_type</span><span class="o">=</span><span class="n">fuel_type</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">vehicle_range</span><span class="o">=</span><span class="n">vehicle_range</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Trip.by_motorbike">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_motorbike">[docs]</a>
    <span class="k">def</span> <span class="nf">by_motorbike</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a motorbike trip object</span>

<span class="sd">        :param size: The size of the motorbike</span>
<span class="sd">        :type size: str</span>
<span class="sd">        :return: _TripByMotorbike object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByMotorbike</span><span class="p">(</span>
            <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Trip.by_bicycle">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_bicycle">[docs]</a>
    <span class="k">def</span> <span class="nf">by_bicycle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a bicycle trip object</span>

<span class="sd">        :return: _TripByBicycle object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByBicycle</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="Trip.by_pedelec">
<a class="viewcode-back" href="../../../mobility.html#co2calculator.api.trip.Trip.by_pedelec">[docs]</a>
    <span class="k">def</span> <span class="nf">by_pedelec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a pedelec trip object</span>

<span class="sd">        :return: _TripByPedelec object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">_TripByPedelec</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">by_custom</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">transportation_mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_TripCustom</span><span class="p">(</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">transportation_mode</span><span class="o">=</span><span class="n">transportation_mode</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
        <span class="p">)</span></div>



<span class="k">class</span> <span class="nc">_TripByCar</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is a hidden class which handles car trips.</span>

<span class="sd">    :param fuel_type: The fuel type of the car</span>
<span class="sd">    :param size: The size of the car</span>
<span class="sd">    :param passengers: number of passengers (default value: 1)</span>
<span class="sd">    :param distance: The distance of the car journey</span>
<span class="sd">    :param start: The start location of the car journey</span>
<span class="sd">    :param destination: The destination location of the car journey</span>
<span class="sd">    :type fuel_type: str</span>
<span class="sd">    :type size: str</span>
<span class="sd">    :type passengers: int</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fuel_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">passengers</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a car trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByCar</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuel_type</span> <span class="o">=</span> <span class="n">fuel_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">passengers</span> <span class="o">=</span> <span class="n">passengers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">CAR</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a car trip.</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="c1"># Calculate emissions</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fuel_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fuel_type</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="s2">&quot;passengers&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">passengers</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># Filter out items where value is None</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_car</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return available options for car trips.</span>

<span class="sd">        :return: Dictionary of available options</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fuel_type&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;gasoline&quot;</span><span class="p">,</span>
                <span class="s2">&quot;diesel&quot;</span><span class="p">,</span>
                <span class="s2">&quot;electric&quot;</span><span class="p">,</span>
                <span class="s2">&quot;hybrid&quot;</span><span class="p">,</span>
                <span class="s2">&quot;plug-in_hybrid&quot;</span><span class="p">,</span>
                <span class="s2">&quot;cng&quot;</span><span class="p">,</span>
                <span class="s2">&quot;average&quot;</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="s2">&quot;large&quot;</span><span class="p">,</span> <span class="s2">&quot;average&quot;</span><span class="p">],</span>
            <span class="s2">&quot;passengers&quot;</span><span class="p">:</span> <span class="s2">&quot;Enter the number of passengers (default is 1)&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">options</span>


<span class="k">class</span> <span class="nc">_TripByTrain</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles train trips.</span>

<span class="sd">    :param distance: The distance of the train journey</span>
<span class="sd">    :param start: The start location of the train journey</span>
<span class="sd">    :param destination: The destination location of the train journey</span>
<span class="sd">    :param country_code: 2- or 3-letter ISO country code</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    :type country_code: str | CountryCode2 | CountryCode3</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">country_code</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">CountryCode2</span> <span class="o">|</span> <span class="n">CountryCode3</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a train trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByTrain</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">country_code</span> <span class="o">=</span> <span class="n">country_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">TRAIN</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a train trip</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: change for train</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="c1"># Calculate emissions</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;country_code&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">country_code</span><span class="p">}</span>
        <span class="c1"># Filter out items where value is None</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_train</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">_TripByPlane</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles plane trips.</span>

<span class="sd">    :param seating: The type of seating class (see FlightClass in constants.py)</span>
<span class="sd">    :param distance: The distance of the plane journey</span>
<span class="sd">    :param start: The start location of the plane journey</span>
<span class="sd">    :param destination: The destination location of the plane journey</span>
<span class="sd">    :type seating: str</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">seating</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a plane trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByPlane</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seating</span> <span class="o">=</span> <span class="n">seating</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">PLANE</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a plane trip</span>

<span class="sd">        :return Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="c1"># Calculate emissions</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;seating&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">seating</span><span class="p">}</span>
        <span class="c1"># Filter out items where value is None</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_plane</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">_TripByTram</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles tram trips.</span>

<span class="sd">    :param distance: The distance of the train journey</span>
<span class="sd">    :param start: The start location of the train journey</span>
<span class="sd">    :param destination: The destination location of the train journey</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a tram trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByTram</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">TRAM</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a tram trip.</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_tram</span><span class="p">(</span><span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{})</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="c1"># class _TripByFerry(Trip):</span>
<span class="c1">#    &quot;&quot;&quot;This is a hidden class which handles ferry trips.</span>
<span class="c1">#</span>
<span class="c1">#    :param ferry_class: The type of seating class</span>
<span class="c1">#    :param distance: The distance of the ferry journey</span>
<span class="c1">#    :param start: The start location of the ferry journey</span>
<span class="c1">#    :param destination: The destination location of the ferry journey</span>
<span class="c1">#    :type ferry_class: str</span>
<span class="c1">#    :type distance: float</span>
<span class="c1">#    :type start: dict | str</span>
<span class="c1">#    :type destination: dict | str</span>
<span class="c1">#    &quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1">#    def __init__(</span>
<span class="c1">#        self,</span>
<span class="c1">#        ferry_class: str = None,</span>
<span class="c1">#        distance: float = None,</span>
<span class="c1">#        start: dict | str = None,</span>
<span class="c1">#        destination: dict | str = None,</span>
<span class="c1">#    ):</span>
<span class="c1">#        &quot;&quot;&quot;Initialize a ferry trip&quot;&quot;&quot;</span>
<span class="c1">#        super(_TripByFerry, self).__init__(</span>
<span class="c1">#            distance=distance, start=start, destination=destination</span>
<span class="c1">#        )</span>
<span class="c1">#        self.ferry_class = ferry_class</span>
<span class="c1">#        self.transportation_mode = TransportationMode.FERRY</span>
<span class="c1">#</span>
<span class="c1">#    def calculate_co2e(self):</span>
<span class="c1">#        &quot;&quot;&quot;Calculate the CO2e emissions for a ferry trip</span>
<span class="c1">#</span>
<span class="c1">#        :return: Emissions object</span>
<span class="c1">#        &quot;&quot;&quot;</span>
<span class="c1">#        if self.distance is None:</span>
<span class="c1">#            self.calculate_distance()</span>
<span class="c1">#</span>
<span class="c1">#        # Calculate emissions</span>
<span class="c1">#        options = {&quot;ferry_class&quot;: self.ferry_class}</span>
<span class="c1">#        # Filter out items where value is None</span>
<span class="c1">#        options = {k: v for k, v in options.items() if v is not None}</span>
<span class="c1">#</span>
<span class="c1">#        co2e, emission_factor, emission_parameters = calc_co2_ferry(</span>
<span class="c1">#            self.distance, options=options</span>
<span class="c1">#        )</span>
<span class="c1">#        emissions = TransportEmissions(</span>
<span class="c1">#            co2e=co2e,</span>
<span class="c1">#            distance=self.distance,</span>
<span class="c1">#            emission_factor=emission_factor,</span>
<span class="c1">#            emission_parameters=emission_parameters,</span>
<span class="c1">#        )</span>
<span class="c1">#        return emissions</span>
<span class="c1">#</span>
<span class="c1">#    def get_options(self):</span>
<span class="c1">#        # TODO: Implement options retrieval</span>
<span class="c1">#        pass</span>


<span class="k">class</span> <span class="nc">_TripByBus</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles bus trips.</span>

<span class="sd">    :param fuel_type: The fuel type of the bus (see BusFuel in constants.py)</span>
<span class="sd">    :param size: The size of the bus</span>
<span class="sd">    :param vehicle_range: The distance of the bus journey (see BusTrainRange in constants.py)</span>
<span class="sd">    :param distance: The distance of the bus journey</span>
<span class="sd">    :param start: The start location of the bus journey</span>
<span class="sd">    :param destination: The destination location of the bus journey</span>
<span class="sd">    :type fuel_type: str</span>
<span class="sd">    :type size: str</span>
<span class="sd">    :type vehicle_range: str</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fuel_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">vehicle_range</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a bus trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByBus</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuel_type</span> <span class="o">=</span> <span class="n">fuel_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vehicle_range</span> <span class="o">=</span> <span class="n">vehicle_range</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">BUS</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a bus trip</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="c1"># Calculate emissions</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fuel_type&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fuel_type</span><span class="p">,</span>
            <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span>
            <span class="s2">&quot;vehicle_range&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">vehicle_range</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># Filter out items where value is None</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_bus</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">_TripByMotorbike</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles motorbike trips.</span>

<span class="sd">    :param size: The size of the motorbike</span>
<span class="sd">    :param distance: The distance of the motorbike journey</span>
<span class="sd">    :param start: The start location of the motorbike journey</span>
<span class="sd">    :param destination: The destination location of the motorbike journey</span>
<span class="sd">    :type size: str</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a motorbike trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByMotorbike</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">MOTORBIKE</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a motorbike trip</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="c1"># Calculate emissions</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">}</span>
        <span class="c1"># Filter out items where value is None</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_motorbike</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">_TripByBicycle</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles bicycle trips.</span>

<span class="sd">    :param distance: The distance of the bicycle journey</span>
<span class="sd">    :param start: The start location of the bicycle journey</span>
<span class="sd">    :param destination: The destination location of the bicycle journey</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a bicycle trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByBicycle</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">BICYCLE</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a bicycle trip.</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_bicycle</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">_TripByPedelec</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles pedelec trips.</span>

<span class="sd">    :param distance: The distance of the pedelec journey</span>
<span class="sd">    :param start: The start location of the pedelec journey</span>
<span class="sd">    :param destination: The destination location of the pedelec journey</span>
<span class="sd">    :type distance: float</span>
<span class="sd">    :type start: dict | str</span>
<span class="sd">    :type destination: dict | str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a pedelec trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripByPedelec</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="o">.</span><span class="n">PEDELEC</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the CO2e emissions for a pedelec trip.</span>

<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="n">co2e</span><span class="p">,</span> <span class="n">emission_factor</span><span class="p">,</span> <span class="n">emission_parameters</span> <span class="o">=</span> <span class="n">calc_co2_pedelec</span><span class="p">(</span>
            <span class="n">distance</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}</span>
        <span class="p">)</span>
        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
            <span class="n">start</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
            <span class="n">start_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_coords</span><span class="p">,</span>
            <span class="n">destination</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destination</span><span class="p">,</span>
            <span class="n">destination_coords</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_destination_coords</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>

    <span class="k">def</span> <span class="nf">get_options</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Implement options retrieval</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">_TripCustom</span><span class="p">(</span><span class="n">Trip</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This is a hidden class which handles custom trips.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">emission_factor</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">transportation_mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a custom trip&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_TripCustom</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span>
        <span class="p">)</span>
        <span class="k">assert</span> <span class="n">emission_factor</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Emission factor must be &gt;= 0&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emission_factor</span> <span class="o">=</span> <span class="n">emission_factor</span>
        <span class="k">if</span> <span class="n">transportation_mode</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Transport mode must be given, unless distance is provided.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">transportation_mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="n">TransportationMode</span><span class="p">(</span><span class="n">transportation_mode</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">calculate_co2e</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the CO2e emissions for a custom trip.</span>
<span class="sd">        :return: Emissions object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calculate_distance</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance</span>

        <span class="c1"># calculate emissions</span>
        <span class="n">emission_parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;transportation_mode&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">transportation_mode</span><span class="p">}</span>
        <span class="n">co2e</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">emission_factor</span>

        <span class="n">emissions</span> <span class="o">=</span> <span class="n">TransportEmissions</span><span class="p">(</span>
            <span class="n">co2e</span><span class="o">=</span><span class="n">co2e</span><span class="p">,</span>
            <span class="n">distance</span><span class="o">=</span><span class="n">distance</span><span class="p">,</span>
            <span class="n">emission_factor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">emission_factor</span><span class="p">,</span>
            <span class="n">emission_parameters</span><span class="o">=</span><span class="n">emission_parameters</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">emissions</span>
</pre></div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2025, Christina Ludwig, Veit Ulrich, Hannah Weiser, Sarah Lohr, Fabian Kneissl, Nils Antary, Milena Schnitzler.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
    </div>

    

    
  </body>
</html>